# 接口定义规范

## 目的

永远遵循同一套编码规范 -- 这样可以让一个团队办事效率更高，不管有多少人共同参与同一项目，确保每一行代码都像是同一个人编写的。

## 更新时间
> 2019-10-17




##  接口管理工具
1. 接口管理工具统一使用 YAPI

2. 公司YAPI [地址](http://yapi.thunisoft.com/ ) 

3. YAPI 账号： 公司的Gitlab账号登录即可

##  接口定义原则

> 接口先行：前后端分离项目，务必优先定义接口

1. 接口由后端工程师统一定义

2. 后端接口设计评审，需有前端人员在场

3. 后端接口设计完，优先和前端负责人协商，针对不合理的接口，提前修改，接口定义，
必须前后端双方一致通过方可执行，如有不同意见，双方无法达成一致意见，
应该上报至上级（最高到技术副总）

4. 对应定义好的接口， 后端后期需要修改， 应第一时间修改接口API, 然后再告知前端




##  接口模板推荐
可以参考此模板进行定义，当然并不强制，

```
{
   code:int,
   success: boolean
   message:string,
   data: 接口返回的数据
}

// 如下
{
  "code":200,
  "data":{

  },
  "message":"请求数据成功",
  "success":false
}

```

 此模板来源 [http接口文档模板 ](http接口文档模板.docx)


 ## 关于数据组装问题

1. 后期工作中，各地前端团队成员共同整理、收集场景化的接口规范，
   吴惟刚负责汇总整理，经过技术评审后，纳入华宇接口设计规范，
   后续接口设计，针对已有场景，
   后端接口设计应当遵循已有接口设计规范

2. 针对系统级的页面场景，可以根据已有典型系统进行分析，
   划分接口设计的大方向规范，可以出一些示例库。如：
   - 图表类，如echarts表，接口以满足前端展现为主，
   - 业务流程类，如流程性的报表，表单等业务流程，以后端接口设计为主

3. 后端接口设计评审，需有前端人员在场，后端接口设计完，
   优先和前端负责人协商，针对不合理的接口，提前修改，接口定义，
   必须前后端双方一致通过方可执行，如有不同意见，双方无法达成一致意见，
   应该上报至上级（最高到技术副总）

4. 执行力度把控，后续需要开发经理，技术负责人，技术副总大力支持，确保执行效率